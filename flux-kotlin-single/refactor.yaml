operations:
  # Replace package names in Kotlin files
  - type: replace
    files: ["**/*.kt"]
    find: "package com\\.example\\.flux"
    replace: "package ${package}"
    regex: true

  # Replace imports in Kotlin files
  - type: replace
    files: ["**/*.kt"]
    find: "import com\\.example\\.flux\\."
    replace: "import ${package}."
    regex: true

  # Update Maven pom.xml
  - type: replace
    files: ["pom.xml"]
    find: "<groupId>com.example.flux</groupId>"
    replace: "<groupId>${groupId}</groupId>"

  - type: replace
    files: ["pom.xml"]
    find: "<artifactId>flux-kotlin-single</artifactId>"
    replace: "<artifactId>${artifactId}</artifactId>"

  - type: replace
    files: ["pom.xml"]
    find: "<name>Flux Kotlin Single</name>"
    replace: "<name>${projectName}</name>"

  - type: replace
    files: ["pom.xml"]
    find: "<description>A Flux Capacitor application with Kotlin</description>"
    replace: "<description>${description}</description>"

  # Update Gradle build.gradle.kts
  - type: replace
    files: ["build.gradle.kts"]
    find: 'group = "com.example.flux"'
    replace: 'group = "${groupId}"'

  # Update Gradle settings.gradle.kts
  - type: replace
    files: ["settings.gradle.kts"]
    find: 'rootProject.name = "flux-kotlin-single"'
    replace: 'rootProject.name = "${artifactId}"'

  # Rename package directories
  - type: rename
    from: "src/main/kotlin/com/example/flux"
    to: "src/main/kotlin/${packagePath}"

  - type: rename
    from: "src/test/kotlin/com/example/flux"
    to: "src/test/kotlin/${packagePath}"